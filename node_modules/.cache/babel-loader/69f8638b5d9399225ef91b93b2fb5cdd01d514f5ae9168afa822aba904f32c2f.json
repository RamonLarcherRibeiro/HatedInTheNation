{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/web.url-search-params.delete.js\");\nrequire(\"core-js/modules/web.url-search-params.has.js\");\nrequire(\"core-js/modules/web.url-search-params.size.js\");\n/* -----------------------------------------------\n/* Author : Vincent Garreau  - vincentgarreau.com\n/* MIT license: http://opensource.org/licenses/MIT\n/* Demo / Generator : vincentgarreau.com/particles.js\n/* GitHub : github.com/VincentGarreau/particles.js\n/* How to use? : Check the GitHub README\n/* v2.0.0\n/* ----------------------------------------------- */\n\nvar pJS = function (tag_id, params) {\n  var canvas_el = document.querySelector('#' + tag_id + ' > .particles-js-canvas-el');\n\n  /* particles.js variables with default values */\n  this.pJS = {\n    canvas: {\n      el: canvas_el,\n      w: canvas_el.offsetWidth,\n      h: canvas_el.offsetHeight\n    },\n    particles: {\n      number: {\n        value: 400,\n        density: {\n          enable: true,\n          value_area: 800\n        }\n      },\n      color: {\n        value: '#fff'\n      },\n      shape: {\n        type: 'circle',\n        stroke: {\n          width: 0,\n          color: '#ff0000'\n        },\n        polygon: {\n          nb_sides: 5\n        },\n        image: {\n          src: '',\n          width: 100,\n          height: 100\n        }\n      },\n      opacity: {\n        value: 1,\n        random: false,\n        anim: {\n          enable: false,\n          speed: 2,\n          opacity_min: 0,\n          sync: false\n        }\n      },\n      size: {\n        value: 20,\n        random: false,\n        anim: {\n          enable: false,\n          speed: 20,\n          size_min: 0,\n          sync: false\n        }\n      },\n      line_linked: {\n        enable: true,\n        distance: 100,\n        color: '#fff',\n        opacity: 1,\n        width: 1\n      },\n      move: {\n        enable: true,\n        speed: 2,\n        direction: 'none',\n        random: false,\n        straight: false,\n        out_mode: 'out',\n        bounce: false,\n        attract: {\n          enable: false,\n          rotateX: 3000,\n          rotateY: 3000\n        }\n      },\n      array: []\n    },\n    interactivity: {\n      detect_on: 'canvas',\n      events: {\n        onhover: {\n          enable: true,\n          mode: 'grab'\n        },\n        onclick: {\n          enable: true,\n          mode: 'push'\n        },\n        resize: true\n      },\n      modes: {\n        grab: {\n          distance: 100,\n          line_linked: {\n            opacity: 1\n          }\n        },\n        bubble: {\n          distance: 200,\n          size: 80,\n          duration: 0.4\n        },\n        repulse: {\n          distance: 200,\n          duration: 0.4\n        },\n        push: {\n          particles_nb: 4\n        },\n        remove: {\n          particles_nb: 2\n        }\n      },\n      mouse: {}\n    },\n    retina_detect: false,\n    fn: {\n      interact: {},\n      modes: {},\n      vendors: {}\n    },\n    tmp: {}\n  };\n  var pJS = this.pJS;\n\n  /* params settings */\n  if (params) {\n    Object.deepExtend(pJS, params);\n  }\n  pJS.tmp.obj = {\n    size_value: pJS.particles.size.value,\n    size_anim_speed: pJS.particles.size.anim.speed,\n    move_speed: pJS.particles.move.speed,\n    line_linked_distance: pJS.particles.line_linked.distance,\n    line_linked_width: pJS.particles.line_linked.width,\n    mode_grab_distance: pJS.interactivity.modes.grab.distance,\n    mode_bubble_distance: pJS.interactivity.modes.bubble.distance,\n    mode_bubble_size: pJS.interactivity.modes.bubble.size,\n    mode_repulse_distance: pJS.interactivity.modes.repulse.distance\n  };\n  pJS.fn.retinaInit = function () {\n    if (pJS.retina_detect && window.devicePixelRatio > 1) {\n      pJS.canvas.pxratio = window.devicePixelRatio;\n      pJS.tmp.retina = true;\n    } else {\n      pJS.canvas.pxratio = 1;\n      pJS.tmp.retina = false;\n    }\n    pJS.canvas.w = pJS.canvas.el.offsetWidth * pJS.canvas.pxratio;\n    pJS.canvas.h = pJS.canvas.el.offsetHeight * pJS.canvas.pxratio;\n    pJS.particles.size.value = pJS.tmp.obj.size_value * pJS.canvas.pxratio;\n    pJS.particles.size.anim.speed = pJS.tmp.obj.size_anim_speed * pJS.canvas.pxratio;\n    pJS.particles.move.speed = pJS.tmp.obj.move_speed * pJS.canvas.pxratio;\n    pJS.particles.line_linked.distance = pJS.tmp.obj.line_linked_distance * pJS.canvas.pxratio;\n    pJS.interactivity.modes.grab.distance = pJS.tmp.obj.mode_grab_distance * pJS.canvas.pxratio;\n    pJS.interactivity.modes.bubble.distance = pJS.tmp.obj.mode_bubble_distance * pJS.canvas.pxratio;\n    pJS.particles.line_linked.width = pJS.tmp.obj.line_linked_width * pJS.canvas.pxratio;\n    pJS.interactivity.modes.bubble.size = pJS.tmp.obj.mode_bubble_size * pJS.canvas.pxratio;\n    pJS.interactivity.modes.repulse.distance = pJS.tmp.obj.mode_repulse_distance * pJS.canvas.pxratio;\n  };\n\n  /* ---------- pJS functions - canvas ------------ */\n\n  pJS.fn.canvasInit = function () {\n    pJS.canvas.ctx = pJS.canvas.el.getContext('2d');\n  };\n  pJS.fn.canvasSize = function () {\n    pJS.canvas.el.width = pJS.canvas.w;\n    pJS.canvas.el.height = pJS.canvas.h;\n    if (pJS && pJS.interactivity.events.resize) {\n      window.addEventListener('resize', function () {\n        pJS.canvas.w = pJS.canvas.el.offsetWidth;\n        pJS.canvas.h = pJS.canvas.el.offsetHeight;\n\n        /* resize canvas */\n        if (pJS.tmp.retina) {\n          pJS.canvas.w *= pJS.canvas.pxratio;\n          pJS.canvas.h *= pJS.canvas.pxratio;\n        }\n        pJS.canvas.el.width = pJS.canvas.w;\n        pJS.canvas.el.height = pJS.canvas.h;\n\n        /* repaint canvas on anim disabled */\n        if (!pJS.particles.move.enable) {\n          pJS.fn.particlesEmpty();\n          pJS.fn.particlesCreate();\n          pJS.fn.particlesDraw();\n          pJS.fn.vendors.densityAutoParticles();\n        }\n\n        /* density particles enabled */\n        pJS.fn.vendors.densityAutoParticles();\n      });\n    }\n  };\n  pJS.fn.canvasPaint = function () {\n    pJS.canvas.ctx.fillRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n  };\n  pJS.fn.canvasClear = function () {\n    pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n  };\n\n  /* --------- pJS functions - particles ----------- */\n\n  pJS.fn.particle = function (color, opacity, position) {\n    /* size */\n    this.radius = (pJS.particles.size.random ? Math.random() : 1) * pJS.particles.size.value;\n    if (pJS.particles.size.anim.enable) {\n      this.size_status = false;\n      this.vs = pJS.particles.size.anim.speed / 100;\n      if (!pJS.particles.size.anim.sync) {\n        this.vs = this.vs * Math.random();\n      }\n    }\n\n    /* position */\n    this.x = position ? position.x : Math.random() * pJS.canvas.w;\n    this.y = position ? position.y : Math.random() * pJS.canvas.h;\n\n    /* check position  - into the canvas */\n    if (this.x > pJS.canvas.w - this.radius * 2) this.x = this.x - this.radius;else if (this.x < this.radius * 2) this.x = this.x + this.radius;\n    if (this.y > pJS.canvas.h - this.radius * 2) this.y = this.y - this.radius;else if (this.y < this.radius * 2) this.y = this.y + this.radius;\n\n    /* check position - avoid overlap */\n    if (pJS.particles.move.bounce) {\n      pJS.fn.vendors.checkOverlap(this, position);\n    }\n\n    /* color */\n    this.color = {};\n    if (typeof color.value == 'object') {\n      if (color.value instanceof Array) {\n        var color_selected = color.value[Math.floor(Math.random() * pJS.particles.color.value.length)];\n        this.color.rgb = hexToRgb(color_selected);\n      } else {\n        if (color.value.r != undefined && color.value.g != undefined && color.value.b != undefined) {\n          this.color.rgb = {\n            r: color.value.r,\n            g: color.value.g,\n            b: color.value.b\n          };\n        }\n        if (color.value.h != undefined && color.value.s != undefined && color.value.l != undefined) {\n          this.color.hsl = {\n            h: color.value.h,\n            s: color.value.s,\n            l: color.value.l\n          };\n        }\n      }\n    } else if (color.value == 'random') {\n      this.color.rgb = {\n        r: Math.floor(Math.random() * (255 - 0 + 1)) + 0,\n        g: Math.floor(Math.random() * (255 - 0 + 1)) + 0,\n        b: Math.floor(Math.random() * (255 - 0 + 1)) + 0\n      };\n    } else if (typeof color.value == 'string') {\n      this.color = color;\n      this.color.rgb = hexToRgb(this.color.value);\n    }\n\n    /* opacity */\n    this.opacity = (pJS.particles.opacity.random ? Math.random() : 1) * pJS.particles.opacity.value;\n    if (pJS.particles.opacity.anim.enable) {\n      this.opacity_status = false;\n      this.vo = pJS.particles.opacity.anim.speed / 100;\n      if (!pJS.particles.opacity.anim.sync) {\n        this.vo = this.vo * Math.random();\n      }\n    }\n\n    /* animation - velocity for speed */\n    var velbase = {};\n    switch (pJS.particles.move.direction) {\n      case 'top':\n        velbase = {\n          x: 0,\n          y: -1\n        };\n        break;\n      case 'top-right':\n        velbase = {\n          x: 0.5,\n          y: -0.5\n        };\n        break;\n      case 'right':\n        velbase = {\n          x: 1,\n          y: -0\n        };\n        break;\n      case 'bottom-right':\n        velbase = {\n          x: 0.5,\n          y: 0.5\n        };\n        break;\n      case 'bottom':\n        velbase = {\n          x: 0,\n          y: 1\n        };\n        break;\n      case 'bottom-left':\n        velbase = {\n          x: -0.5,\n          y: 1\n        };\n        break;\n      case 'left':\n        velbase = {\n          x: -1,\n          y: 0\n        };\n        break;\n      case 'top-left':\n        velbase = {\n          x: -0.5,\n          y: -0.5\n        };\n        break;\n      default:\n        velbase = {\n          x: 0,\n          y: 0\n        };\n        break;\n    }\n    if (pJS.particles.move.straight) {\n      this.vx = velbase.x;\n      this.vy = velbase.y;\n      if (pJS.particles.move.random) {\n        this.vx = this.vx * Math.random();\n        this.vy = this.vy * Math.random();\n      }\n    } else {\n      this.vx = velbase.x + Math.random() - 0.5;\n      this.vy = velbase.y + Math.random() - 0.5;\n    }\n\n    // var theta = 2.0 * Math.PI * Math.random();\n    // this.vx = Math.cos(theta);\n    // this.vy = Math.sin(theta);\n\n    this.vx_i = this.vx;\n    this.vy_i = this.vy;\n\n    /* if shape is image */\n\n    var shape_type = pJS.particles.shape.type;\n    if (typeof shape_type == 'object') {\n      if (shape_type instanceof Array) {\n        var shape_selected = shape_type[Math.floor(Math.random() * shape_type.length)];\n        this.shape = shape_selected;\n      }\n    } else {\n      this.shape = shape_type;\n    }\n    if (this.shape == 'image') {\n      var sh = pJS.particles.shape;\n      this.img = {\n        src: sh.image.src,\n        ratio: sh.image.width / sh.image.height\n      };\n      if (!this.img.ratio) this.img.ratio = 1;\n      if (pJS.tmp.img_type == 'svg' && pJS.tmp.source_svg != undefined) {\n        pJS.fn.vendors.createSvgImg(this);\n        if (pJS.tmp.pushing) {\n          this.img.loaded = false;\n        }\n      }\n    }\n  };\n  pJS.fn.particle.prototype.draw = function () {\n    var p = this;\n    if (p.radius_bubble != undefined) {\n      var radius = p.radius_bubble;\n    } else {\n      var radius = p.radius;\n    }\n    if (p.opacity_bubble != undefined) {\n      var opacity = p.opacity_bubble;\n    } else {\n      var opacity = p.opacity;\n    }\n    if (p.color.rgb) {\n      var color_value = 'rgba(' + p.color.rgb.r + ',' + p.color.rgb.g + ',' + p.color.rgb.b + ',' + opacity + ')';\n    } else {\n      var color_value = 'hsla(' + p.color.hsl.h + ',' + p.color.hsl.s + '%,' + p.color.hsl.l + '%,' + opacity + ')';\n    }\n    pJS.canvas.ctx.fillStyle = color_value;\n    pJS.canvas.ctx.beginPath();\n    switch (p.shape) {\n      case 'circle':\n        pJS.canvas.ctx.arc(p.x, p.y, radius, 0, Math.PI * 2, false);\n        break;\n      case 'edge':\n        pJS.canvas.ctx.rect(p.x - radius, p.y - radius, radius * 2, radius * 2);\n        break;\n      case 'triangle':\n        pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius, p.y + radius / 1.66, radius * 2, 3, 2);\n        break;\n      case 'polygon':\n        pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius / (pJS.particles.shape.polygon.nb_sides / 3.5),\n        // startX\n        p.y - radius / (2.66 / 3.5),\n        // startY\n        radius * 2.66 / (pJS.particles.shape.polygon.nb_sides / 3),\n        // sideLength\n        pJS.particles.shape.polygon.nb_sides,\n        // sideCountNumerator\n        1 // sideCountDenominator\n        );\n        break;\n      case 'star':\n        pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius * 2 / (pJS.particles.shape.polygon.nb_sides / 4),\n        // startX\n        p.y - radius / (2 * 2.66 / 3.5),\n        // startY\n        radius * 2 * 2.66 / (pJS.particles.shape.polygon.nb_sides / 3),\n        // sideLength\n        pJS.particles.shape.polygon.nb_sides,\n        // sideCountNumerator\n        2 // sideCountDenominator\n        );\n        break;\n      case 'image':\n        function draw() {\n          pJS.canvas.ctx.drawImage(img_obj, p.x - radius, p.y - radius, radius * 2, radius * 2 / p.img.ratio);\n        }\n        if (pJS.tmp.img_type == 'svg') {\n          var img_obj = p.img.obj;\n        } else {\n          var img_obj = pJS.tmp.img_obj;\n        }\n        if (img_obj) {\n          draw();\n        }\n        break;\n    }\n    pJS.canvas.ctx.closePath();\n    if (pJS.particles.shape.stroke.width > 0) {\n      pJS.canvas.ctx.strokeStyle = pJS.particles.shape.stroke.color;\n      pJS.canvas.ctx.lineWidth = pJS.particles.shape.stroke.width;\n      pJS.canvas.ctx.stroke();\n    }\n    pJS.canvas.ctx.fill();\n  };\n  pJS.fn.particlesCreate = function () {\n    for (var i = 0; i < pJS.particles.number.value; i++) {\n      pJS.particles.array.push(new pJS.fn.particle(pJS.particles.color, pJS.particles.opacity.value));\n    }\n  };\n  pJS.fn.particlesUpdate = function () {\n    for (var i = 0; i < pJS.particles.array.length; i++) {\n      /* the particle */\n      var p = pJS.particles.array[i];\n\n      // var d = ( dx = pJS.interactivity.mouse.click_pos_x - p.x ) * dx + ( dy = pJS.interactivity.mouse.click_pos_y - p.y ) * dy;\n      // var f = -BANG_SIZE / d;\n      // if ( d < BANG_SIZE ) {\n      //     var t = Math.atan2( dy, dx );\n      //     p.vx = f * Math.cos(t);\n      //     p.vy = f * Math.sin(t);\n      // }\n\n      /* move the particle */\n      if (pJS.particles.move.enable) {\n        var ms = pJS.particles.move.speed / 2;\n        p.x += p.vx * ms;\n        p.y += p.vy * ms;\n      }\n\n      /* change opacity status */\n      if (pJS.particles.opacity.anim.enable) {\n        if (p.opacity_status == true) {\n          if (p.opacity >= pJS.particles.opacity.value) p.opacity_status = false;\n          p.opacity += p.vo;\n        } else {\n          if (p.opacity <= pJS.particles.opacity.anim.opacity_min) p.opacity_status = true;\n          p.opacity -= p.vo;\n        }\n        if (p.opacity < 0) p.opacity = 0;\n      }\n\n      /* change size */\n      if (pJS.particles.size.anim.enable) {\n        if (p.size_status == true) {\n          if (p.radius >= pJS.particles.size.value) p.size_status = false;\n          p.radius += p.vs;\n        } else {\n          if (p.radius <= pJS.particles.size.anim.size_min) p.size_status = true;\n          p.radius -= p.vs;\n        }\n        if (p.radius < 0) p.radius = 0;\n      }\n\n      /* change particle position if it is out of canvas */\n      if (pJS.particles.move.out_mode == 'bounce') {\n        var new_pos = {\n          x_left: p.radius,\n          x_right: pJS.canvas.w,\n          y_top: p.radius,\n          y_bottom: pJS.canvas.h\n        };\n      } else {\n        var new_pos = {\n          x_left: -p.radius,\n          x_right: pJS.canvas.w + p.radius,\n          y_top: -p.radius,\n          y_bottom: pJS.canvas.h + p.radius\n        };\n      }\n      if (p.x - p.radius > pJS.canvas.w) {\n        p.x = new_pos.x_left;\n        p.y = Math.random() * pJS.canvas.h;\n      } else if (p.x + p.radius < 0) {\n        p.x = new_pos.x_right;\n        p.y = Math.random() * pJS.canvas.h;\n      }\n      if (p.y - p.radius > pJS.canvas.h) {\n        p.y = new_pos.y_top;\n        p.x = Math.random() * pJS.canvas.w;\n      } else if (p.y + p.radius < 0) {\n        p.y = new_pos.y_bottom;\n        p.x = Math.random() * pJS.canvas.w;\n      }\n\n      /* out of canvas modes */\n      switch (pJS.particles.move.out_mode) {\n        case 'bounce':\n          if (p.x + p.radius > pJS.canvas.w) p.vx = -p.vx;else if (p.x - p.radius < 0) p.vx = -p.vx;\n          if (p.y + p.radius > pJS.canvas.h) p.vy = -p.vy;else if (p.y - p.radius < 0) p.vy = -p.vy;\n          break;\n      }\n\n      /* events */\n      if (isInArray('grab', pJS.interactivity.events.onhover.mode)) {\n        pJS.fn.modes.grabParticle(p);\n      }\n      if (isInArray('bubble', pJS.interactivity.events.onhover.mode) || isInArray('bubble', pJS.interactivity.events.onclick.mode)) {\n        pJS.fn.modes.bubbleParticle(p);\n      }\n      if (isInArray('repulse', pJS.interactivity.events.onhover.mode) || isInArray('repulse', pJS.interactivity.events.onclick.mode)) {\n        pJS.fn.modes.repulseParticle(p);\n      }\n\n      /* interaction auto between particles */\n      if (pJS.particles.line_linked.enable || pJS.particles.move.attract.enable) {\n        for (var j = i + 1; j < pJS.particles.array.length; j++) {\n          var p2 = pJS.particles.array[j];\n\n          /* link particles */\n          if (pJS.particles.line_linked.enable) {\n            pJS.fn.interact.linkParticles(p, p2);\n          }\n\n          /* attract particles */\n          if (pJS.particles.move.attract.enable) {\n            pJS.fn.interact.attractParticles(p, p2);\n          }\n\n          /* bounce particles */\n          if (pJS.particles.move.bounce) {\n            pJS.fn.interact.bounceParticles(p, p2);\n          }\n        }\n      }\n    }\n  };\n  pJS.fn.particlesDraw = function () {\n    /* clear canvas */\n    pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n\n    /* update each particles param */\n    pJS.fn.particlesUpdate();\n\n    /* draw each particle */\n    for (var i = 0; i < pJS.particles.array.length; i++) {\n      var p = pJS.particles.array[i];\n      p.draw();\n    }\n  };\n  pJS.fn.particlesEmpty = function () {\n    pJS.particles.array = [];\n  };\n  pJS.fn.particlesRefresh = function () {\n    /* init all */\n    cancelRequestAnimFrame(pJS.fn.checkAnimFrame);\n    cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\n    pJS.tmp.source_svg = undefined;\n    pJS.tmp.img_obj = undefined;\n    pJS.tmp.count_svg = 0;\n    pJS.fn.particlesEmpty();\n    pJS.fn.canvasClear();\n\n    /* restart */\n    pJS.fn.vendors.start();\n  };\n\n  /* ---------- pJS functions - particles interaction ------------ */\n\n  pJS.fn.interact.linkParticles = function (p1, p2) {\n    var dx = p1.x - p2.x,\n      dy = p1.y - p2.y,\n      dist = Math.sqrt(dx * dx + dy * dy);\n\n    /* draw a line between p1 and p2 if the distance between them is under the config distance */\n    if (dist <= pJS.particles.line_linked.distance) {\n      var opacity_line = pJS.particles.line_linked.opacity - dist / (1 / pJS.particles.line_linked.opacity) / pJS.particles.line_linked.distance;\n      if (opacity_line > 0) {\n        /* style */\n        var color_line = pJS.particles.line_linked.color_rgb_line;\n        pJS.canvas.ctx.strokeStyle = 'rgba(' + color_line.r + ',' + color_line.g + ',' + color_line.b + ',' + opacity_line + ')';\n        pJS.canvas.ctx.lineWidth = pJS.particles.line_linked.width;\n        //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\n\n        /* path */\n        pJS.canvas.ctx.beginPath();\n        pJS.canvas.ctx.moveTo(p1.x, p1.y);\n        pJS.canvas.ctx.lineTo(p2.x, p2.y);\n        pJS.canvas.ctx.stroke();\n        pJS.canvas.ctx.closePath();\n      }\n    }\n  };\n  pJS.fn.interact.attractParticles = function (p1, p2) {\n    /* condensed particles */\n    var dx = p1.x - p2.x,\n      dy = p1.y - p2.y,\n      dist = Math.sqrt(dx * dx + dy * dy);\n    if (dist <= pJS.particles.line_linked.distance) {\n      var ax = dx / (pJS.particles.move.attract.rotateX * 1000),\n        ay = dy / (pJS.particles.move.attract.rotateY * 1000);\n      p1.vx -= ax;\n      p1.vy -= ay;\n      p2.vx += ax;\n      p2.vy += ay;\n    }\n  };\n  pJS.fn.interact.bounceParticles = function (p1, p2) {\n    var dx = p1.x - p2.x,\n      dy = p1.y - p2.y,\n      dist = Math.sqrt(dx * dx + dy * dy),\n      dist_p = p1.radius + p2.radius;\n    if (dist <= dist_p) {\n      p1.vx = -p1.vx;\n      p1.vy = -p1.vy;\n      p2.vx = -p2.vx;\n      p2.vy = -p2.vy;\n    }\n  };\n\n  /* ---------- pJS functions - modes events ------------ */\n\n  pJS.fn.modes.pushParticles = function (nb, pos) {\n    pJS.tmp.pushing = true;\n    for (var i = 0; i < nb; i++) {\n      pJS.particles.array.push(new pJS.fn.particle(pJS.particles.color, pJS.particles.opacity.value, {\n        'x': pos ? pos.pos_x : Math.random() * pJS.canvas.w,\n        'y': pos ? pos.pos_y : Math.random() * pJS.canvas.h\n      }));\n      if (i == nb - 1) {\n        if (!pJS.particles.move.enable) {\n          pJS.fn.particlesDraw();\n        }\n        pJS.tmp.pushing = false;\n      }\n    }\n  };\n  pJS.fn.modes.removeParticles = function (nb) {\n    pJS.particles.array.splice(0, nb);\n    if (!pJS.particles.move.enable) {\n      pJS.fn.particlesDraw();\n    }\n  };\n  pJS.fn.modes.bubbleParticle = function (p) {\n    /* on hover event */\n    if (pJS.interactivity.events.onhover.enable && isInArray('bubble', pJS.interactivity.events.onhover.mode)) {\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n        dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n        dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse),\n        ratio = 1 - dist_mouse / pJS.interactivity.modes.bubble.distance;\n      function init() {\n        p.opacity_bubble = p.opacity;\n        p.radius_bubble = p.radius;\n      }\n\n      /* mousemove - check ratio */\n      if (dist_mouse <= pJS.interactivity.modes.bubble.distance) {\n        if (ratio >= 0 && pJS.interactivity.status == 'mousemove') {\n          /* size */\n          if (pJS.interactivity.modes.bubble.size != pJS.particles.size.value) {\n            if (pJS.interactivity.modes.bubble.size > pJS.particles.size.value) {\n              var size = p.radius + pJS.interactivity.modes.bubble.size * ratio;\n              if (size >= 0) {\n                p.radius_bubble = size;\n              }\n            } else {\n              var dif = p.radius - pJS.interactivity.modes.bubble.size,\n                size = p.radius - dif * ratio;\n              if (size > 0) {\n                p.radius_bubble = size;\n              } else {\n                p.radius_bubble = 0;\n              }\n            }\n          }\n\n          /* opacity */\n          if (pJS.interactivity.modes.bubble.opacity != pJS.particles.opacity.value) {\n            if (pJS.interactivity.modes.bubble.opacity > pJS.particles.opacity.value) {\n              var opacity = pJS.interactivity.modes.bubble.opacity * ratio;\n              if (opacity > p.opacity && opacity <= pJS.interactivity.modes.bubble.opacity) {\n                p.opacity_bubble = opacity;\n              }\n            } else {\n              var opacity = p.opacity - (pJS.particles.opacity.value - pJS.interactivity.modes.bubble.opacity) * ratio;\n              if (opacity < p.opacity && opacity >= pJS.interactivity.modes.bubble.opacity) {\n                p.opacity_bubble = opacity;\n              }\n            }\n          }\n        }\n      } else {\n        init();\n      }\n\n      /* mouseleave */\n      if (pJS.interactivity.status == 'mouseleave') {\n        init();\n      }\n    }\n\n    /* on click event */else if (pJS.interactivity.events.onclick.enable && isInArray('bubble', pJS.interactivity.events.onclick.mode)) {\n      if (pJS.tmp.bubble_clicking) {\n        var dx_mouse = p.x - pJS.interactivity.mouse.click_pos_x,\n          dy_mouse = p.y - pJS.interactivity.mouse.click_pos_y,\n          dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse),\n          time_spent = (new Date().getTime() - pJS.interactivity.mouse.click_time) / 1000;\n        if (time_spent > pJS.interactivity.modes.bubble.duration) {\n          pJS.tmp.bubble_duration_end = true;\n        }\n        if (time_spent > pJS.interactivity.modes.bubble.duration * 2) {\n          pJS.tmp.bubble_clicking = false;\n          pJS.tmp.bubble_duration_end = false;\n        }\n      }\n      function process(bubble_param, particles_param, p_obj_bubble, p_obj, id) {\n        if (bubble_param != particles_param) {\n          if (!pJS.tmp.bubble_duration_end) {\n            if (dist_mouse <= pJS.interactivity.modes.bubble.distance) {\n              if (p_obj_bubble != undefined) var obj = p_obj_bubble;else var obj = p_obj;\n              if (obj != bubble_param) {\n                var value = p_obj - time_spent * (p_obj - bubble_param) / pJS.interactivity.modes.bubble.duration;\n                if (id == 'size') p.radius_bubble = value;\n                if (id == 'opacity') p.opacity_bubble = value;\n              }\n            } else {\n              if (id == 'size') p.radius_bubble = undefined;\n              if (id == 'opacity') p.opacity_bubble = undefined;\n            }\n          } else {\n            if (p_obj_bubble != undefined) {\n              var value_tmp = p_obj - time_spent * (p_obj - bubble_param) / pJS.interactivity.modes.bubble.duration,\n                dif = bubble_param - value_tmp;\n              value = bubble_param + dif;\n              if (id == 'size') p.radius_bubble = value;\n              if (id == 'opacity') p.opacity_bubble = value;\n            }\n          }\n        }\n      }\n      if (pJS.tmp.bubble_clicking) {\n        /* size */\n        process(pJS.interactivity.modes.bubble.size, pJS.particles.size.value, p.radius_bubble, p.radius, 'size');\n        /* opacity */\n        process(pJS.interactivity.modes.bubble.opacity, pJS.particles.opacity.value, p.opacity_bubble, p.opacity, 'opacity');\n      }\n    }\n  };\n  pJS.fn.modes.repulseParticle = function (p) {\n    if (pJS.interactivity.events.onhover.enable && isInArray('repulse', pJS.interactivity.events.onhover.mode) && pJS.interactivity.status == 'mousemove') {\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n        dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n        dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n      var normVec = {\n          x: dx_mouse / dist_mouse,\n          y: dy_mouse / dist_mouse\n        },\n        repulseRadius = pJS.interactivity.modes.repulse.distance,\n        velocity = 100,\n        repulseFactor = clamp(1 / repulseRadius * (-1 * Math.pow(dist_mouse / repulseRadius, 2) + 1) * repulseRadius * velocity, 0, 50);\n      var pos = {\n        x: p.x + normVec.x * repulseFactor,\n        y: p.y + normVec.y * repulseFactor\n      };\n      if (pJS.particles.move.out_mode == 'bounce') {\n        if (pos.x - p.radius > 0 && pos.x + p.radius < pJS.canvas.w) p.x = pos.x;\n        if (pos.y - p.radius > 0 && pos.y + p.radius < pJS.canvas.h) p.y = pos.y;\n      } else {\n        p.x = pos.x;\n        p.y = pos.y;\n      }\n    } else if (pJS.interactivity.events.onclick.enable && isInArray('repulse', pJS.interactivity.events.onclick.mode)) {\n      if (!pJS.tmp.repulse_finish) {\n        pJS.tmp.repulse_count++;\n        if (pJS.tmp.repulse_count == pJS.particles.array.length) {\n          pJS.tmp.repulse_finish = true;\n        }\n      }\n      if (pJS.tmp.repulse_clicking) {\n        var repulseRadius = Math.pow(pJS.interactivity.modes.repulse.distance / 6, 3);\n        var dx = pJS.interactivity.mouse.click_pos_x - p.x,\n          dy = pJS.interactivity.mouse.click_pos_y - p.y,\n          d = dx * dx + dy * dy;\n        var force = -repulseRadius / d * 1;\n        function process() {\n          var f = Math.atan2(dy, dx);\n          p.vx = force * Math.cos(f);\n          p.vy = force * Math.sin(f);\n          if (pJS.particles.move.out_mode == 'bounce') {\n            var pos = {\n              x: p.x + p.vx,\n              y: p.y + p.vy\n            };\n            if (pos.x + p.radius > pJS.canvas.w) p.vx = -p.vx;else if (pos.x - p.radius < 0) p.vx = -p.vx;\n            if (pos.y + p.radius > pJS.canvas.h) p.vy = -p.vy;else if (pos.y - p.radius < 0) p.vy = -p.vy;\n          }\n        }\n\n        // default\n        if (d <= repulseRadius) {\n          process();\n        }\n\n        // bang - slow motion mode\n        // if(!pJS.tmp.repulse_finish){\n        //   if(d <= repulseRadius){\n        //     process();\n        //   }\n        // }else{\n        //   process();\n        // }\n      } else {\n        if (pJS.tmp.repulse_clicking == false) {\n          p.vx = p.vx_i;\n          p.vy = p.vy_i;\n        }\n      }\n    }\n  };\n  pJS.fn.modes.grabParticle = function (p) {\n    if (pJS.interactivity.events.onhover.enable && pJS.interactivity.status == 'mousemove') {\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n        dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n        dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n\n      /* draw a line between the cursor and the particle if the distance between them is under the config distance */\n      if (dist_mouse <= pJS.interactivity.modes.grab.distance) {\n        var opacity_line = pJS.interactivity.modes.grab.line_linked.opacity - dist_mouse / (1 / pJS.interactivity.modes.grab.line_linked.opacity) / pJS.interactivity.modes.grab.distance;\n        if (opacity_line > 0) {\n          /* style */\n          var color_line = pJS.particles.line_linked.color_rgb_line;\n          pJS.canvas.ctx.strokeStyle = 'rgba(' + color_line.r + ',' + color_line.g + ',' + color_line.b + ',' + opacity_line + ')';\n          pJS.canvas.ctx.lineWidth = pJS.particles.line_linked.width;\n          //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\n\n          /* path */\n          pJS.canvas.ctx.beginPath();\n          pJS.canvas.ctx.moveTo(p.x, p.y);\n          pJS.canvas.ctx.lineTo(pJS.interactivity.mouse.pos_x, pJS.interactivity.mouse.pos_y);\n          pJS.canvas.ctx.stroke();\n          pJS.canvas.ctx.closePath();\n        }\n      }\n    }\n  };\n\n  /* ---------- pJS functions - vendors ------------ */\n\n  pJS.fn.vendors.eventsListeners = function () {\n    /* events target element */\n    if (pJS.interactivity.detect_on == 'window') {\n      pJS.interactivity.el = window;\n    } else {\n      pJS.interactivity.el = pJS.canvas.el;\n    }\n\n    /* detect mouse pos - on hover / click event */\n    if (pJS.interactivity.events.onhover.enable || pJS.interactivity.events.onclick.enable) {\n      /* el on mousemove */\n      pJS.interactivity.el.addEventListener('mousemove', function (e) {\n        if (pJS.interactivity.el == window) {\n          var pos_x = e.clientX,\n            pos_y = e.clientY;\n        } else {\n          var pos_x = e.offsetX || e.clientX,\n            pos_y = e.offsetY || e.clientY;\n        }\n        pJS.interactivity.mouse.pos_x = pos_x;\n        pJS.interactivity.mouse.pos_y = pos_y;\n        if (pJS.tmp.retina) {\n          pJS.interactivity.mouse.pos_x *= pJS.canvas.pxratio;\n          pJS.interactivity.mouse.pos_y *= pJS.canvas.pxratio;\n        }\n        pJS.interactivity.status = 'mousemove';\n      });\n\n      /* el on onmouseleave */\n      pJS.interactivity.el.addEventListener('mouseleave', function (e) {\n        pJS.interactivity.mouse.pos_x = null;\n        pJS.interactivity.mouse.pos_y = null;\n        pJS.interactivity.status = 'mouseleave';\n      });\n    }\n\n    /* on click event */\n    if (pJS.interactivity.events.onclick.enable) {\n      pJS.interactivity.el.addEventListener('click', function () {\n        pJS.interactivity.mouse.click_pos_x = pJS.interactivity.mouse.pos_x;\n        pJS.interactivity.mouse.click_pos_y = pJS.interactivity.mouse.pos_y;\n        pJS.interactivity.mouse.click_time = new Date().getTime();\n        if (pJS.interactivity.events.onclick.enable) {\n          switch (pJS.interactivity.events.onclick.mode) {\n            case 'push':\n              if (pJS.particles.move.enable) {\n                pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\n              } else {\n                if (pJS.interactivity.modes.push.particles_nb == 1) {\n                  pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\n                } else if (pJS.interactivity.modes.push.particles_nb > 1) {\n                  pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb);\n                }\n              }\n              break;\n            case 'remove':\n              pJS.fn.modes.removeParticles(pJS.interactivity.modes.remove.particles_nb);\n              break;\n            case 'bubble':\n              pJS.tmp.bubble_clicking = true;\n              break;\n            case 'repulse':\n              pJS.tmp.repulse_clicking = true;\n              pJS.tmp.repulse_count = 0;\n              pJS.tmp.repulse_finish = false;\n              setTimeout(function () {\n                pJS.tmp.repulse_clicking = false;\n              }, pJS.interactivity.modes.repulse.duration * 1000);\n              break;\n          }\n        }\n      });\n    }\n  };\n  pJS.fn.vendors.densityAutoParticles = function () {\n    if (pJS.particles.number.density.enable) {\n      /* calc area */\n      var area = pJS.canvas.el.width * pJS.canvas.el.height / 1000;\n      if (pJS.tmp.retina) {\n        area = area / (pJS.canvas.pxratio * 2);\n      }\n\n      /* calc number of particles based on density area */\n      var nb_particles = area * pJS.particles.number.value / pJS.particles.number.density.value_area;\n\n      /* add or remove X particles */\n      var missing_particles = pJS.particles.array.length - nb_particles;\n      if (missing_particles < 0) pJS.fn.modes.pushParticles(Math.abs(missing_particles));else pJS.fn.modes.removeParticles(missing_particles);\n    }\n  };\n  pJS.fn.vendors.checkOverlap = function (p1, position) {\n    for (var i = 0; i < pJS.particles.array.length; i++) {\n      var p2 = pJS.particles.array[i];\n      var dx = p1.x - p2.x,\n        dy = p1.y - p2.y,\n        dist = Math.sqrt(dx * dx + dy * dy);\n      if (dist <= p1.radius + p2.radius) {\n        p1.x = position ? position.x : Math.random() * pJS.canvas.w;\n        p1.y = position ? position.y : Math.random() * pJS.canvas.h;\n        pJS.fn.vendors.checkOverlap(p1);\n      }\n    }\n  };\n  pJS.fn.vendors.createSvgImg = function (p) {\n    /* set color to svg element */\n    var svgXml = pJS.tmp.source_svg,\n      rgbHex = /#([0-9A-F]{3,6})/gi,\n      coloredSvgXml = svgXml.replace(rgbHex, function (m, r, g, b) {\n        if (p.color.rgb) {\n          var color_value = 'rgba(' + p.color.rgb.r + ',' + p.color.rgb.g + ',' + p.color.rgb.b + ',' + p.opacity + ')';\n        } else {\n          var color_value = 'hsla(' + p.color.hsl.h + ',' + p.color.hsl.s + '%,' + p.color.hsl.l + '%,' + p.opacity + ')';\n        }\n        return color_value;\n      });\n\n    /* prepare to create img with colored svg */\n    var svg = new Blob([coloredSvgXml], {\n        type: 'image/svg+xml;charset=utf-8'\n      }),\n      DOMURL = window.URL || window.webkitURL || window,\n      url = DOMURL.createObjectURL(svg);\n\n    /* create particle img obj */\n    var img = new Image();\n    img.addEventListener('load', function () {\n      p.img.obj = img;\n      p.img.loaded = true;\n      DOMURL.revokeObjectURL(url);\n      pJS.tmp.count_svg++;\n    });\n    img.src = url;\n  };\n  pJS.fn.vendors.destroypJS = function () {\n    cancelAnimationFrame(pJS.fn.drawAnimFrame);\n    canvas_el.remove();\n    pJSDom = null;\n  };\n  pJS.fn.vendors.drawShape = function (c, startX, startY, sideLength, sideCountNumerator, sideCountDenominator) {\n    // By Programming Thomas - https://programmingthomas.wordpress.com/2013/04/03/n-sided-shapes/\n    var sideCount = sideCountNumerator * sideCountDenominator;\n    var decimalSides = sideCountNumerator / sideCountDenominator;\n    var interiorAngleDegrees = 180 * (decimalSides - 2) / decimalSides;\n    var interiorAngle = Math.PI - Math.PI * interiorAngleDegrees / 180; // convert to radians\n    c.save();\n    c.beginPath();\n    c.translate(startX, startY);\n    c.moveTo(0, 0);\n    for (var i = 0; i < sideCount; i++) {\n      c.lineTo(sideLength, 0);\n      c.translate(sideLength, 0);\n      c.rotate(interiorAngle);\n    }\n    //c.stroke();\n    c.fill();\n    c.restore();\n  };\n  pJS.fn.vendors.exportImg = function () {\n    window.open(pJS.canvas.el.toDataURL('image/png'), '_blank');\n  };\n  pJS.fn.vendors.loadImg = function (type) {\n    pJS.tmp.img_error = undefined;\n    if (pJS.particles.shape.image.src != '') {\n      if (type == 'svg') {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', pJS.particles.shape.image.src);\n        xhr.onreadystatechange = function (data) {\n          if (xhr.readyState == 4) {\n            if (xhr.status == 200) {\n              pJS.tmp.source_svg = data.currentTarget.response;\n              pJS.fn.vendors.checkBeforeDraw();\n            } else {\n              console.log('Error pJS - Image not found');\n              pJS.tmp.img_error = true;\n            }\n          }\n        };\n        xhr.send();\n      } else {\n        var img = new Image();\n        img.addEventListener('load', function () {\n          pJS.tmp.img_obj = img;\n          pJS.fn.vendors.checkBeforeDraw();\n        });\n        img.src = pJS.particles.shape.image.src;\n      }\n    } else {\n      console.log('Error pJS - No image.src');\n      pJS.tmp.img_error = true;\n    }\n  };\n  pJS.fn.vendors.draw = function () {\n    if (pJS.particles.shape.type == 'image') {\n      if (pJS.tmp.img_type == 'svg') {\n        if (pJS.tmp.count_svg >= pJS.particles.number.value) {\n          pJS.fn.particlesDraw();\n          if (!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        } else {\n          //console.log('still loading...');\n          if (!pJS.tmp.img_error) pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }\n      } else {\n        if (pJS.tmp.img_obj != undefined) {\n          pJS.fn.particlesDraw();\n          if (!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        } else {\n          if (!pJS.tmp.img_error) pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }\n      }\n    } else {\n      pJS.fn.particlesDraw();\n      if (!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n    }\n  };\n  pJS.fn.vendors.checkBeforeDraw = function () {\n    // if shape is image\n    if (pJS.particles.shape.type == 'image') {\n      if (pJS.tmp.img_type == 'svg' && pJS.tmp.source_svg == undefined) {\n        pJS.tmp.checkAnimFrame = requestAnimFrame(check);\n      } else {\n        //console.log('images loaded! cancel check');\n        cancelRequestAnimFrame(pJS.tmp.checkAnimFrame);\n        if (!pJS.tmp.img_error) {\n          pJS.fn.vendors.init();\n          pJS.fn.vendors.draw();\n        }\n      }\n    } else {\n      pJS.fn.vendors.init();\n      pJS.fn.vendors.draw();\n    }\n  };\n  pJS.fn.vendors.init = function () {\n    /* init canvas + particles */\n    pJS.fn.retinaInit();\n    pJS.fn.canvasInit();\n    pJS.fn.canvasSize();\n    pJS.fn.canvasPaint();\n    pJS.fn.particlesCreate();\n    pJS.fn.vendors.densityAutoParticles();\n\n    /* particles.line_linked - convert hex colors to rgb */\n    pJS.particles.line_linked.color_rgb_line = hexToRgb(pJS.particles.line_linked.color);\n  };\n  pJS.fn.vendors.start = function () {\n    if (isInArray('image', pJS.particles.shape.type)) {\n      pJS.tmp.img_type = pJS.particles.shape.image.src.substr(pJS.particles.shape.image.src.length - 3);\n      pJS.fn.vendors.loadImg(pJS.tmp.img_type);\n    } else {\n      pJS.fn.vendors.checkBeforeDraw();\n    }\n  };\n\n  /* ---------- pJS - start ------------ */\n\n  pJS.fn.vendors.eventsListeners();\n  pJS.fn.vendors.start();\n};\n\n/* ---------- global functions - vendors ------------ */\n\nObject.deepExtend = function (destination, source) {\n  for (var property in source) {\n    if (source[property] && source[property].constructor && source[property].constructor === Object) {\n      destination[property] = destination[property] || {};\n      arguments.callee(destination[property], source[property]);\n    } else {\n      destination[property] = source[property];\n    }\n  }\n  return destination;\n};\nwindow.requestAnimFrame = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 1000 / 60);\n  };\n}();\nwindow.cancelRequestAnimFrame = function () {\n  return window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout;\n}();\nfunction hexToRgb(hex) {\n  // By Tim Down - http://stackoverflow.com/a/5624139/3493650\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}\n;\nfunction clamp(number, min, max) {\n  return Math.min(Math.max(number, min), max);\n}\n;\nfunction isInArray(value, array) {\n  return array.indexOf(value) > -1;\n}\n\n/* ---------- particles.js functions - start ------------ */\n\nwindow.pJSDom = [];\nwindow.particlesJS = function (tag_id, params) {\n  //console.log(params);\n\n  /* no string id? so it's object params, and set the id with default id */\n  if (typeof tag_id != 'string') {\n    params = tag_id;\n    tag_id = 'particles-js';\n  }\n\n  /* no id? set the id to default id */\n  if (!tag_id) {\n    tag_id = 'particles-js';\n  }\n\n  /* pJS elements */\n  var pJS_tag = document.getElementById(tag_id),\n    pJS_canvas_class = 'particles-js-canvas-el',\n    exist_canvas = pJS_tag.getElementsByClassName(pJS_canvas_class);\n\n  /* remove canvas if exists into the pJS target tag */\n  if (exist_canvas.length) {\n    while (exist_canvas.length > 0) {\n      pJS_tag.removeChild(exist_canvas[0]);\n    }\n  }\n\n  /* create canvas element */\n  var canvas_el = document.createElement('canvas');\n  canvas_el.className = pJS_canvas_class;\n\n  /* set size canvas */\n  canvas_el.style.width = \"100%\";\n  canvas_el.style.height = \"100%\";\n\n  /* append canvas */\n  var canvas = document.getElementById(tag_id).appendChild(canvas_el);\n\n  /* launch particle.js */\n  if (canvas != null) {\n    pJSDom.push(new pJS(tag_id, params));\n  }\n};\nwindow.particlesJS.load = function (tag_id, path_config_json, callback) {\n  /* load json config */\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', path_config_json);\n  xhr.onreadystatechange = function (data) {\n    if (xhr.readyState == 4) {\n      if (xhr.status == 200) {\n        var params = JSON.parse(data.currentTarget.response);\n        window.particlesJS(tag_id, params);\n        if (callback) callback();\n      } else {\n        console.log('Error pJS - XMLHttpRequest status: ' + xhr.status);\n        console.log('Error pJS - File config not found');\n      }\n    }\n  };\n  xhr.send();\n};","map":{"version":3,"names":["pJS","tag_id","params","canvas_el","document","querySelector","canvas","el","w","offsetWidth","h","offsetHeight","particles","number","value","density","enable","value_area","color","shape","type","stroke","width","polygon","nb_sides","image","src","height","opacity","random","anim","speed","opacity_min","sync","size","size_min","line_linked","distance","move","direction","straight","out_mode","bounce","attract","rotateX","rotateY","array","interactivity","detect_on","events","onhover","mode","onclick","resize","modes","grab","bubble","duration","repulse","push","particles_nb","remove","mouse","retina_detect","fn","interact","vendors","tmp","Object","deepExtend","obj","size_value","size_anim_speed","move_speed","line_linked_distance","line_linked_width","mode_grab_distance","mode_bubble_distance","mode_bubble_size","mode_repulse_distance","retinaInit","window","devicePixelRatio","pxratio","retina","canvasInit","ctx","getContext","canvasSize","addEventListener","particlesEmpty","particlesCreate","particlesDraw","densityAutoParticles","canvasPaint","fillRect","canvasClear","clearRect","particle","position","radius","Math","size_status","vs","x","y","checkOverlap","Array","color_selected","floor","length","rgb","hexToRgb","r","undefined","g","b","s","l","hsl","opacity_status","vo","velbase","vx","vy","vx_i","vy_i","shape_type","shape_selected","sh","img","ratio","img_type","source_svg","createSvgImg","pushing","loaded","prototype","draw","p","radius_bubble","opacity_bubble","color_value","fillStyle","beginPath","arc","PI","rect","drawShape","drawImage","img_obj","closePath","strokeStyle","lineWidth","fill","i","particlesUpdate","ms","new_pos","x_left","x_right","y_top","y_bottom","isInArray","grabParticle","bubbleParticle","repulseParticle","j","p2","linkParticles","attractParticles","bounceParticles","particlesRefresh","cancelRequestAnimFrame","checkAnimFrame","drawAnimFrame","count_svg","start","p1","dx","dy","dist","sqrt","opacity_line","color_line","color_rgb_line","moveTo","lineTo","ax","ay","dist_p","pushParticles","nb","pos","pos_x","pos_y","removeParticles","splice","dx_mouse","dy_mouse","dist_mouse","init","status","dif","bubble_clicking","click_pos_x","click_pos_y","time_spent","Date","getTime","click_time","bubble_duration_end","process","bubble_param","particles_param","p_obj_bubble","p_obj","id","value_tmp","normVec","repulseRadius","velocity","repulseFactor","clamp","pow","repulse_finish","repulse_count","repulse_clicking","d","force","f","atan2","cos","sin","eventsListeners","e","clientX","clientY","offsetX","offsetY","setTimeout","area","nb_particles","missing_particles","abs","svgXml","rgbHex","coloredSvgXml","replace","m","svg","Blob","DOMURL","URL","webkitURL","url","createObjectURL","Image","revokeObjectURL","destroypJS","cancelAnimationFrame","pJSDom","c","startX","startY","sideLength","sideCountNumerator","sideCountDenominator","sideCount","decimalSides","interiorAngleDegrees","interiorAngle","save","translate","rotate","restore","exportImg","open","toDataURL","loadImg","img_error","xhr","XMLHttpRequest","onreadystatechange","data","readyState","currentTarget","response","checkBeforeDraw","console","log","send","requestAnimFrame","check","substr","destination","source","property","constructor","arguments","callee","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","clearTimeout","hex","shorthandRegex","result","exec","parseInt","min","max","indexOf","particlesJS","pJS_tag","getElementById","pJS_canvas_class","exist_canvas","getElementsByClassName","removeChild","createElement","className","style","appendChild","load","path_config_json","JSON","parse"],"sources":["/home/ramon/repositorios/hatedinthenation/node_modules/particles.js/particles.js"],"sourcesContent":["/* -----------------------------------------------\n/* Author : Vincent Garreau  - vincentgarreau.com\n/* MIT license: http://opensource.org/licenses/MIT\n/* Demo / Generator : vincentgarreau.com/particles.js\n/* GitHub : github.com/VincentGarreau/particles.js\n/* How to use? : Check the GitHub README\n/* v2.0.0\n/* ----------------------------------------------- */\n\nvar pJS = function(tag_id, params){\n\n  var canvas_el = document.querySelector('#'+tag_id+' > .particles-js-canvas-el');\n\n  /* particles.js variables with default values */\n  this.pJS = {\n    canvas: {\n      el: canvas_el,\n      w: canvas_el.offsetWidth,\n      h: canvas_el.offsetHeight\n    },\n    particles: {\n      number: {\n        value: 400,\n        density: {\n          enable: true,\n          value_area: 800\n        }\n      },\n      color: {\n        value: '#fff'\n      },\n      shape: {\n        type: 'circle',\n        stroke: {\n          width: 0,\n          color: '#ff0000'\n        },\n        polygon: {\n          nb_sides: 5\n        },\n        image: {\n          src: '',\n          width: 100,\n          height: 100\n        }\n      },\n      opacity: {\n        value: 1,\n        random: false,\n        anim: {\n          enable: false,\n          speed: 2,\n          opacity_min: 0,\n          sync: false\n        }\n      },\n      size: {\n        value: 20,\n        random: false,\n        anim: {\n          enable: false,\n          speed: 20,\n          size_min: 0,\n          sync: false\n        }\n      },\n      line_linked: {\n        enable: true,\n        distance: 100,\n        color: '#fff',\n        opacity: 1,\n        width: 1\n      },\n      move: {\n        enable: true,\n        speed: 2,\n        direction: 'none',\n        random: false,\n        straight: false,\n        out_mode: 'out',\n        bounce: false,\n        attract: {\n          enable: false,\n          rotateX: 3000,\n          rotateY: 3000\n        }\n      },\n      array: []\n    },\n    interactivity: {\n      detect_on: 'canvas',\n      events: {\n        onhover: {\n          enable: true,\n          mode: 'grab'\n        },\n        onclick: {\n          enable: true,\n          mode: 'push'\n        },\n        resize: true\n      },\n      modes: {\n        grab:{\n          distance: 100,\n          line_linked:{\n            opacity: 1\n          }\n        },\n        bubble:{\n          distance: 200,\n          size: 80,\n          duration: 0.4\n        },\n        repulse:{\n          distance: 200,\n          duration: 0.4\n        },\n        push:{\n          particles_nb: 4\n        },\n        remove:{\n          particles_nb: 2\n        }\n      },\n      mouse:{}\n    },\n    retina_detect: false,\n    fn: {\n      interact: {},\n      modes: {},\n      vendors:{}\n    },\n    tmp: {}\n  };\n\n  var pJS = this.pJS;\n\n  /* params settings */\n  if(params){\n    Object.deepExtend(pJS, params);\n  }\n\n  pJS.tmp.obj = {\n    size_value: pJS.particles.size.value,\n    size_anim_speed: pJS.particles.size.anim.speed,\n    move_speed: pJS.particles.move.speed,\n    line_linked_distance: pJS.particles.line_linked.distance,\n    line_linked_width: pJS.particles.line_linked.width,\n    mode_grab_distance: pJS.interactivity.modes.grab.distance,\n    mode_bubble_distance: pJS.interactivity.modes.bubble.distance,\n    mode_bubble_size: pJS.interactivity.modes.bubble.size,\n    mode_repulse_distance: pJS.interactivity.modes.repulse.distance\n  };\n\n\n  pJS.fn.retinaInit = function(){\n\n    if(pJS.retina_detect && window.devicePixelRatio > 1){\n      pJS.canvas.pxratio = window.devicePixelRatio; \n      pJS.tmp.retina = true;\n    } \n    else{\n      pJS.canvas.pxratio = 1;\n      pJS.tmp.retina = false;\n    }\n\n    pJS.canvas.w = pJS.canvas.el.offsetWidth * pJS.canvas.pxratio;\n    pJS.canvas.h = pJS.canvas.el.offsetHeight * pJS.canvas.pxratio;\n\n    pJS.particles.size.value = pJS.tmp.obj.size_value * pJS.canvas.pxratio;\n    pJS.particles.size.anim.speed = pJS.tmp.obj.size_anim_speed * pJS.canvas.pxratio;\n    pJS.particles.move.speed = pJS.tmp.obj.move_speed * pJS.canvas.pxratio;\n    pJS.particles.line_linked.distance = pJS.tmp.obj.line_linked_distance * pJS.canvas.pxratio;\n    pJS.interactivity.modes.grab.distance = pJS.tmp.obj.mode_grab_distance * pJS.canvas.pxratio;\n    pJS.interactivity.modes.bubble.distance = pJS.tmp.obj.mode_bubble_distance * pJS.canvas.pxratio;\n    pJS.particles.line_linked.width = pJS.tmp.obj.line_linked_width * pJS.canvas.pxratio;\n    pJS.interactivity.modes.bubble.size = pJS.tmp.obj.mode_bubble_size * pJS.canvas.pxratio;\n    pJS.interactivity.modes.repulse.distance = pJS.tmp.obj.mode_repulse_distance * pJS.canvas.pxratio;\n\n  };\n\n\n\n  /* ---------- pJS functions - canvas ------------ */\n\n  pJS.fn.canvasInit = function(){\n    pJS.canvas.ctx = pJS.canvas.el.getContext('2d');\n  };\n\n  pJS.fn.canvasSize = function(){\n\n    pJS.canvas.el.width = pJS.canvas.w;\n    pJS.canvas.el.height = pJS.canvas.h;\n\n    if(pJS && pJS.interactivity.events.resize){\n\n      window.addEventListener('resize', function(){\n\n          pJS.canvas.w = pJS.canvas.el.offsetWidth;\n          pJS.canvas.h = pJS.canvas.el.offsetHeight;\n\n          /* resize canvas */\n          if(pJS.tmp.retina){\n            pJS.canvas.w *= pJS.canvas.pxratio;\n            pJS.canvas.h *= pJS.canvas.pxratio;\n          }\n\n          pJS.canvas.el.width = pJS.canvas.w;\n          pJS.canvas.el.height = pJS.canvas.h;\n\n          /* repaint canvas on anim disabled */\n          if(!pJS.particles.move.enable){\n            pJS.fn.particlesEmpty();\n            pJS.fn.particlesCreate();\n            pJS.fn.particlesDraw();\n            pJS.fn.vendors.densityAutoParticles();\n          }\n\n        /* density particles enabled */\n        pJS.fn.vendors.densityAutoParticles();\n\n      });\n\n    }\n\n  };\n\n\n  pJS.fn.canvasPaint = function(){\n    pJS.canvas.ctx.fillRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n  };\n\n  pJS.fn.canvasClear = function(){\n    pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n  };\n\n\n  /* --------- pJS functions - particles ----------- */\n\n  pJS.fn.particle = function(color, opacity, position){\n\n    /* size */\n    this.radius = (pJS.particles.size.random ? Math.random() : 1) * pJS.particles.size.value;\n    if(pJS.particles.size.anim.enable){\n      this.size_status = false;\n      this.vs = pJS.particles.size.anim.speed / 100;\n      if(!pJS.particles.size.anim.sync){\n        this.vs = this.vs * Math.random();\n      }\n    }\n\n    /* position */\n    this.x = position ? position.x : Math.random() * pJS.canvas.w;\n    this.y = position ? position.y : Math.random() * pJS.canvas.h;\n\n    /* check position  - into the canvas */\n    if(this.x > pJS.canvas.w - this.radius*2) this.x = this.x - this.radius;\n    else if(this.x < this.radius*2) this.x = this.x + this.radius;\n    if(this.y > pJS.canvas.h - this.radius*2) this.y = this.y - this.radius;\n    else if(this.y < this.radius*2) this.y = this.y + this.radius;\n\n    /* check position - avoid overlap */\n    if(pJS.particles.move.bounce){\n      pJS.fn.vendors.checkOverlap(this, position);\n    }\n\n    /* color */\n    this.color = {};\n    if(typeof(color.value) == 'object'){\n\n      if(color.value instanceof Array){\n        var color_selected = color.value[Math.floor(Math.random() * pJS.particles.color.value.length)];\n        this.color.rgb = hexToRgb(color_selected);\n      }else{\n        if(color.value.r != undefined && color.value.g != undefined && color.value.b != undefined){\n          this.color.rgb = {\n            r: color.value.r,\n            g: color.value.g,\n            b: color.value.b\n          }\n        }\n        if(color.value.h != undefined && color.value.s != undefined && color.value.l != undefined){\n          this.color.hsl = {\n            h: color.value.h,\n            s: color.value.s,\n            l: color.value.l\n          }\n        }\n      }\n\n    }\n    else if(color.value == 'random'){\n      this.color.rgb = {\n        r: (Math.floor(Math.random() * (255 - 0 + 1)) + 0),\n        g: (Math.floor(Math.random() * (255 - 0 + 1)) + 0),\n        b: (Math.floor(Math.random() * (255 - 0 + 1)) + 0)\n      }\n    }\n    else if(typeof(color.value) == 'string'){\n      this.color = color;\n      this.color.rgb = hexToRgb(this.color.value);\n    }\n\n    /* opacity */\n    this.opacity = (pJS.particles.opacity.random ? Math.random() : 1) * pJS.particles.opacity.value;\n    if(pJS.particles.opacity.anim.enable){\n      this.opacity_status = false;\n      this.vo = pJS.particles.opacity.anim.speed / 100;\n      if(!pJS.particles.opacity.anim.sync){\n        this.vo = this.vo * Math.random();\n      }\n    }\n\n    /* animation - velocity for speed */\n    var velbase = {}\n    switch(pJS.particles.move.direction){\n      case 'top':\n        velbase = { x:0, y:-1 };\n      break;\n      case 'top-right':\n        velbase = { x:0.5, y:-0.5 };\n      break;\n      case 'right':\n        velbase = { x:1, y:-0 };\n      break;\n      case 'bottom-right':\n        velbase = { x:0.5, y:0.5 };\n      break;\n      case 'bottom':\n        velbase = { x:0, y:1 };\n      break;\n      case 'bottom-left':\n        velbase = { x:-0.5, y:1 };\n      break;\n      case 'left':\n        velbase = { x:-1, y:0 };\n      break;\n      case 'top-left':\n        velbase = { x:-0.5, y:-0.5 };\n      break;\n      default:\n        velbase = { x:0, y:0 };\n      break;\n    }\n\n    if(pJS.particles.move.straight){\n      this.vx = velbase.x;\n      this.vy = velbase.y;\n      if(pJS.particles.move.random){\n        this.vx = this.vx * (Math.random());\n        this.vy = this.vy * (Math.random());\n      }\n    }else{\n      this.vx = velbase.x + Math.random()-0.5;\n      this.vy = velbase.y + Math.random()-0.5;\n    }\n\n    // var theta = 2.0 * Math.PI * Math.random();\n    // this.vx = Math.cos(theta);\n    // this.vy = Math.sin(theta);\n\n    this.vx_i = this.vx;\n    this.vy_i = this.vy;\n\n    \n\n    /* if shape is image */\n\n    var shape_type = pJS.particles.shape.type;\n    if(typeof(shape_type) == 'object'){\n      if(shape_type instanceof Array){\n        var shape_selected = shape_type[Math.floor(Math.random() * shape_type.length)];\n        this.shape = shape_selected;\n      }\n    }else{\n      this.shape = shape_type;\n    }\n\n    if(this.shape == 'image'){\n      var sh = pJS.particles.shape;\n      this.img = {\n        src: sh.image.src,\n        ratio: sh.image.width / sh.image.height\n      }\n      if(!this.img.ratio) this.img.ratio = 1;\n      if(pJS.tmp.img_type == 'svg' && pJS.tmp.source_svg != undefined){\n        pJS.fn.vendors.createSvgImg(this);\n        if(pJS.tmp.pushing){\n          this.img.loaded = false;\n        }\n      }\n    }\n\n    \n\n  };\n\n\n  pJS.fn.particle.prototype.draw = function() {\n\n    var p = this;\n\n    if(p.radius_bubble != undefined){\n      var radius = p.radius_bubble; \n    }else{\n      var radius = p.radius;\n    }\n\n    if(p.opacity_bubble != undefined){\n      var opacity = p.opacity_bubble;\n    }else{\n      var opacity = p.opacity;\n    }\n\n    if(p.color.rgb){\n      var color_value = 'rgba('+p.color.rgb.r+','+p.color.rgb.g+','+p.color.rgb.b+','+opacity+')';\n    }else{\n      var color_value = 'hsla('+p.color.hsl.h+','+p.color.hsl.s+'%,'+p.color.hsl.l+'%,'+opacity+')';\n    }\n\n    pJS.canvas.ctx.fillStyle = color_value;\n    pJS.canvas.ctx.beginPath();\n\n    switch(p.shape){\n\n      case 'circle':\n        pJS.canvas.ctx.arc(p.x, p.y, radius, 0, Math.PI * 2, false);\n      break;\n\n      case 'edge':\n        pJS.canvas.ctx.rect(p.x-radius, p.y-radius, radius*2, radius*2);\n      break;\n\n      case 'triangle':\n        pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x-radius, p.y+radius / 1.66, radius*2, 3, 2);\n      break;\n\n      case 'polygon':\n        pJS.fn.vendors.drawShape(\n          pJS.canvas.ctx,\n          p.x - radius / (pJS.particles.shape.polygon.nb_sides/3.5), // startX\n          p.y - radius / (2.66/3.5), // startY\n          radius*2.66 / (pJS.particles.shape.polygon.nb_sides/3), // sideLength\n          pJS.particles.shape.polygon.nb_sides, // sideCountNumerator\n          1 // sideCountDenominator\n        );\n      break;\n\n      case 'star':\n        pJS.fn.vendors.drawShape(\n          pJS.canvas.ctx,\n          p.x - radius*2 / (pJS.particles.shape.polygon.nb_sides/4), // startX\n          p.y - radius / (2*2.66/3.5), // startY\n          radius*2*2.66 / (pJS.particles.shape.polygon.nb_sides/3), // sideLength\n          pJS.particles.shape.polygon.nb_sides, // sideCountNumerator\n          2 // sideCountDenominator\n        );\n      break;\n\n      case 'image':\n\n        function draw(){\n          pJS.canvas.ctx.drawImage(\n            img_obj,\n            p.x-radius,\n            p.y-radius,\n            radius*2,\n            radius*2 / p.img.ratio\n          );\n        }\n\n        if(pJS.tmp.img_type == 'svg'){\n          var img_obj = p.img.obj;\n        }else{\n          var img_obj = pJS.tmp.img_obj;\n        }\n\n        if(img_obj){\n          draw();\n        }\n\n      break;\n\n    }\n\n    pJS.canvas.ctx.closePath();\n\n    if(pJS.particles.shape.stroke.width > 0){\n      pJS.canvas.ctx.strokeStyle = pJS.particles.shape.stroke.color;\n      pJS.canvas.ctx.lineWidth = pJS.particles.shape.stroke.width;\n      pJS.canvas.ctx.stroke();\n    }\n    \n    pJS.canvas.ctx.fill();\n    \n  };\n\n\n  pJS.fn.particlesCreate = function(){\n    for(var i = 0; i < pJS.particles.number.value; i++) {\n      pJS.particles.array.push(new pJS.fn.particle(pJS.particles.color, pJS.particles.opacity.value));\n    }\n  };\n\n  pJS.fn.particlesUpdate = function(){\n\n    for(var i = 0; i < pJS.particles.array.length; i++){\n\n      /* the particle */\n      var p = pJS.particles.array[i];\n\n      // var d = ( dx = pJS.interactivity.mouse.click_pos_x - p.x ) * dx + ( dy = pJS.interactivity.mouse.click_pos_y - p.y ) * dy;\n      // var f = -BANG_SIZE / d;\n      // if ( d < BANG_SIZE ) {\n      //     var t = Math.atan2( dy, dx );\n      //     p.vx = f * Math.cos(t);\n      //     p.vy = f * Math.sin(t);\n      // }\n\n      /* move the particle */\n      if(pJS.particles.move.enable){\n        var ms = pJS.particles.move.speed/2;\n        p.x += p.vx * ms;\n        p.y += p.vy * ms;\n      }\n\n      /* change opacity status */\n      if(pJS.particles.opacity.anim.enable) {\n        if(p.opacity_status == true) {\n          if(p.opacity >= pJS.particles.opacity.value) p.opacity_status = false;\n          p.opacity += p.vo;\n        }else {\n          if(p.opacity <= pJS.particles.opacity.anim.opacity_min) p.opacity_status = true;\n          p.opacity -= p.vo;\n        }\n        if(p.opacity < 0) p.opacity = 0;\n      }\n\n      /* change size */\n      if(pJS.particles.size.anim.enable){\n        if(p.size_status == true){\n          if(p.radius >= pJS.particles.size.value) p.size_status = false;\n          p.radius += p.vs;\n        }else{\n          if(p.radius <= pJS.particles.size.anim.size_min) p.size_status = true;\n          p.radius -= p.vs;\n        }\n        if(p.radius < 0) p.radius = 0;\n      }\n\n      /* change particle position if it is out of canvas */\n      if(pJS.particles.move.out_mode == 'bounce'){\n        var new_pos = {\n          x_left: p.radius,\n          x_right:  pJS.canvas.w,\n          y_top: p.radius,\n          y_bottom: pJS.canvas.h\n        }\n      }else{\n        var new_pos = {\n          x_left: -p.radius,\n          x_right: pJS.canvas.w + p.radius,\n          y_top: -p.radius,\n          y_bottom: pJS.canvas.h + p.radius\n        }\n      }\n\n      if(p.x - p.radius > pJS.canvas.w){\n        p.x = new_pos.x_left;\n        p.y = Math.random() * pJS.canvas.h;\n      }\n      else if(p.x + p.radius < 0){\n        p.x = new_pos.x_right;\n        p.y = Math.random() * pJS.canvas.h;\n      }\n      if(p.y - p.radius > pJS.canvas.h){\n        p.y = new_pos.y_top;\n        p.x = Math.random() * pJS.canvas.w;\n      }\n      else if(p.y + p.radius < 0){\n        p.y = new_pos.y_bottom;\n        p.x = Math.random() * pJS.canvas.w;\n      }\n\n      /* out of canvas modes */\n      switch(pJS.particles.move.out_mode){\n        case 'bounce':\n          if (p.x + p.radius > pJS.canvas.w) p.vx = -p.vx;\n          else if (p.x - p.radius < 0) p.vx = -p.vx;\n          if (p.y + p.radius > pJS.canvas.h) p.vy = -p.vy;\n          else if (p.y - p.radius < 0) p.vy = -p.vy;\n        break;\n      }\n\n      /* events */\n      if(isInArray('grab', pJS.interactivity.events.onhover.mode)){\n        pJS.fn.modes.grabParticle(p);\n      }\n\n      if(isInArray('bubble', pJS.interactivity.events.onhover.mode) || isInArray('bubble', pJS.interactivity.events.onclick.mode)){\n        pJS.fn.modes.bubbleParticle(p);\n      }\n\n      if(isInArray('repulse', pJS.interactivity.events.onhover.mode) || isInArray('repulse', pJS.interactivity.events.onclick.mode)){\n        pJS.fn.modes.repulseParticle(p);\n      }\n\n      /* interaction auto between particles */\n      if(pJS.particles.line_linked.enable || pJS.particles.move.attract.enable){\n        for(var j = i + 1; j < pJS.particles.array.length; j++){\n          var p2 = pJS.particles.array[j];\n\n          /* link particles */\n          if(pJS.particles.line_linked.enable){\n            pJS.fn.interact.linkParticles(p,p2);\n          }\n\n          /* attract particles */\n          if(pJS.particles.move.attract.enable){\n            pJS.fn.interact.attractParticles(p,p2);\n          }\n\n          /* bounce particles */\n          if(pJS.particles.move.bounce){\n            pJS.fn.interact.bounceParticles(p,p2);\n          }\n\n        }\n      }\n\n\n    }\n\n  };\n\n  pJS.fn.particlesDraw = function(){\n\n    /* clear canvas */\n    pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n\n    /* update each particles param */\n    pJS.fn.particlesUpdate();\n\n    /* draw each particle */\n    for(var i = 0; i < pJS.particles.array.length; i++){\n      var p = pJS.particles.array[i];\n      p.draw();\n    }\n\n  };\n\n  pJS.fn.particlesEmpty = function(){\n    pJS.particles.array = [];\n  };\n\n  pJS.fn.particlesRefresh = function(){\n\n    /* init all */\n    cancelRequestAnimFrame(pJS.fn.checkAnimFrame);\n    cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\n    pJS.tmp.source_svg = undefined;\n    pJS.tmp.img_obj = undefined;\n    pJS.tmp.count_svg = 0;\n    pJS.fn.particlesEmpty();\n    pJS.fn.canvasClear();\n    \n    /* restart */\n    pJS.fn.vendors.start();\n\n  };\n\n\n  /* ---------- pJS functions - particles interaction ------------ */\n\n  pJS.fn.interact.linkParticles = function(p1, p2){\n\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y,\n        dist = Math.sqrt(dx*dx + dy*dy);\n\n    /* draw a line between p1 and p2 if the distance between them is under the config distance */\n    if(dist <= pJS.particles.line_linked.distance){\n\n      var opacity_line = pJS.particles.line_linked.opacity - (dist / (1/pJS.particles.line_linked.opacity)) / pJS.particles.line_linked.distance;\n\n      if(opacity_line > 0){        \n        \n        /* style */\n        var color_line = pJS.particles.line_linked.color_rgb_line;\n        pJS.canvas.ctx.strokeStyle = 'rgba('+color_line.r+','+color_line.g+','+color_line.b+','+opacity_line+')';\n        pJS.canvas.ctx.lineWidth = pJS.particles.line_linked.width;\n        //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\n        \n        /* path */\n        pJS.canvas.ctx.beginPath();\n        pJS.canvas.ctx.moveTo(p1.x, p1.y);\n        pJS.canvas.ctx.lineTo(p2.x, p2.y);\n        pJS.canvas.ctx.stroke();\n        pJS.canvas.ctx.closePath();\n\n      }\n\n    }\n\n  };\n\n\n  pJS.fn.interact.attractParticles  = function(p1, p2){\n\n    /* condensed particles */\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y,\n        dist = Math.sqrt(dx*dx + dy*dy);\n\n    if(dist <= pJS.particles.line_linked.distance){\n\n      var ax = dx/(pJS.particles.move.attract.rotateX*1000),\n          ay = dy/(pJS.particles.move.attract.rotateY*1000);\n\n      p1.vx -= ax;\n      p1.vy -= ay;\n\n      p2.vx += ax;\n      p2.vy += ay;\n\n    }\n    \n\n  }\n\n\n  pJS.fn.interact.bounceParticles = function(p1, p2){\n\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y,\n        dist = Math.sqrt(dx*dx + dy*dy),\n        dist_p = p1.radius+p2.radius;\n\n    if(dist <= dist_p){\n      p1.vx = -p1.vx;\n      p1.vy = -p1.vy;\n\n      p2.vx = -p2.vx;\n      p2.vy = -p2.vy;\n    }\n\n  }\n\n\n  /* ---------- pJS functions - modes events ------------ */\n\n  pJS.fn.modes.pushParticles = function(nb, pos){\n\n    pJS.tmp.pushing = true;\n\n    for(var i = 0; i < nb; i++){\n      pJS.particles.array.push(\n        new pJS.fn.particle(\n          pJS.particles.color,\n          pJS.particles.opacity.value,\n          {\n            'x': pos ? pos.pos_x : Math.random() * pJS.canvas.w,\n            'y': pos ? pos.pos_y : Math.random() * pJS.canvas.h\n          }\n        )\n      )\n      if(i == nb-1){\n        if(!pJS.particles.move.enable){\n          pJS.fn.particlesDraw();\n        }\n        pJS.tmp.pushing = false;\n      }\n    }\n\n  };\n\n\n  pJS.fn.modes.removeParticles = function(nb){\n\n    pJS.particles.array.splice(0, nb);\n    if(!pJS.particles.move.enable){\n      pJS.fn.particlesDraw();\n    }\n\n  };\n\n\n  pJS.fn.modes.bubbleParticle = function(p){\n\n    /* on hover event */\n    if(pJS.interactivity.events.onhover.enable && isInArray('bubble', pJS.interactivity.events.onhover.mode)){\n\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n          dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n          dist_mouse = Math.sqrt(dx_mouse*dx_mouse + dy_mouse*dy_mouse),\n          ratio = 1 - dist_mouse / pJS.interactivity.modes.bubble.distance;\n\n      function init(){\n        p.opacity_bubble = p.opacity;\n        p.radius_bubble = p.radius;\n      }\n\n      /* mousemove - check ratio */\n      if(dist_mouse <= pJS.interactivity.modes.bubble.distance){\n\n        if(ratio >= 0 && pJS.interactivity.status == 'mousemove'){\n          \n          /* size */\n          if(pJS.interactivity.modes.bubble.size != pJS.particles.size.value){\n\n            if(pJS.interactivity.modes.bubble.size > pJS.particles.size.value){\n              var size = p.radius + (pJS.interactivity.modes.bubble.size*ratio);\n              if(size >= 0){\n                p.radius_bubble = size;\n              }\n            }else{\n              var dif = p.radius - pJS.interactivity.modes.bubble.size,\n                  size = p.radius - (dif*ratio);\n              if(size > 0){\n                p.radius_bubble = size;\n              }else{\n                p.radius_bubble = 0;\n              }\n            }\n\n          }\n\n          /* opacity */\n          if(pJS.interactivity.modes.bubble.opacity != pJS.particles.opacity.value){\n\n            if(pJS.interactivity.modes.bubble.opacity > pJS.particles.opacity.value){\n              var opacity = pJS.interactivity.modes.bubble.opacity*ratio;\n              if(opacity > p.opacity && opacity <= pJS.interactivity.modes.bubble.opacity){\n                p.opacity_bubble = opacity;\n              }\n            }else{\n              var opacity = p.opacity - (pJS.particles.opacity.value-pJS.interactivity.modes.bubble.opacity)*ratio;\n              if(opacity < p.opacity && opacity >= pJS.interactivity.modes.bubble.opacity){\n                p.opacity_bubble = opacity;\n              }\n            }\n\n          }\n\n        }\n\n      }else{\n        init();\n      }\n\n\n      /* mouseleave */\n      if(pJS.interactivity.status == 'mouseleave'){\n        init();\n      }\n    \n    }\n\n    /* on click event */\n    else if(pJS.interactivity.events.onclick.enable && isInArray('bubble', pJS.interactivity.events.onclick.mode)){\n\n\n      if(pJS.tmp.bubble_clicking){\n        var dx_mouse = p.x - pJS.interactivity.mouse.click_pos_x,\n            dy_mouse = p.y - pJS.interactivity.mouse.click_pos_y,\n            dist_mouse = Math.sqrt(dx_mouse*dx_mouse + dy_mouse*dy_mouse),\n            time_spent = (new Date().getTime() - pJS.interactivity.mouse.click_time)/1000;\n\n        if(time_spent > pJS.interactivity.modes.bubble.duration){\n          pJS.tmp.bubble_duration_end = true;\n        }\n\n        if(time_spent > pJS.interactivity.modes.bubble.duration*2){\n          pJS.tmp.bubble_clicking = false;\n          pJS.tmp.bubble_duration_end = false;\n        }\n      }\n\n\n      function process(bubble_param, particles_param, p_obj_bubble, p_obj, id){\n\n        if(bubble_param != particles_param){\n\n          if(!pJS.tmp.bubble_duration_end){\n            if(dist_mouse <= pJS.interactivity.modes.bubble.distance){\n              if(p_obj_bubble != undefined) var obj = p_obj_bubble;\n              else var obj = p_obj;\n              if(obj != bubble_param){\n                var value = p_obj - (time_spent * (p_obj - bubble_param) / pJS.interactivity.modes.bubble.duration);\n                if(id == 'size') p.radius_bubble = value;\n                if(id == 'opacity') p.opacity_bubble = value;\n              }\n            }else{\n              if(id == 'size') p.radius_bubble = undefined;\n              if(id == 'opacity') p.opacity_bubble = undefined;\n            }\n          }else{\n            if(p_obj_bubble != undefined){\n              var value_tmp = p_obj - (time_spent * (p_obj - bubble_param) / pJS.interactivity.modes.bubble.duration),\n                  dif = bubble_param - value_tmp;\n                  value = bubble_param + dif;\n              if(id == 'size') p.radius_bubble = value;\n              if(id == 'opacity') p.opacity_bubble = value;\n            }\n          }\n\n        }\n\n      }\n\n      if(pJS.tmp.bubble_clicking){\n        /* size */\n        process(pJS.interactivity.modes.bubble.size, pJS.particles.size.value, p.radius_bubble, p.radius, 'size');\n        /* opacity */\n        process(pJS.interactivity.modes.bubble.opacity, pJS.particles.opacity.value, p.opacity_bubble, p.opacity, 'opacity');\n      }\n\n    }\n\n  };\n\n\n  pJS.fn.modes.repulseParticle = function(p){\n\n    if(pJS.interactivity.events.onhover.enable && isInArray('repulse', pJS.interactivity.events.onhover.mode) && pJS.interactivity.status == 'mousemove') {\n\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n          dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n          dist_mouse = Math.sqrt(dx_mouse*dx_mouse + dy_mouse*dy_mouse);\n\n      var normVec = {x: dx_mouse/dist_mouse, y: dy_mouse/dist_mouse},\n          repulseRadius = pJS.interactivity.modes.repulse.distance,\n          velocity = 100,\n          repulseFactor = clamp((1/repulseRadius)*(-1*Math.pow(dist_mouse/repulseRadius,2)+1)*repulseRadius*velocity, 0, 50);\n      \n      var pos = {\n        x: p.x + normVec.x * repulseFactor,\n        y: p.y + normVec.y * repulseFactor\n      }\n\n      if(pJS.particles.move.out_mode == 'bounce'){\n        if(pos.x - p.radius > 0 && pos.x + p.radius < pJS.canvas.w) p.x = pos.x;\n        if(pos.y - p.radius > 0 && pos.y + p.radius < pJS.canvas.h) p.y = pos.y;\n      }else{\n        p.x = pos.x;\n        p.y = pos.y;\n      }\n    \n    }\n\n\n    else if(pJS.interactivity.events.onclick.enable && isInArray('repulse', pJS.interactivity.events.onclick.mode)) {\n\n      if(!pJS.tmp.repulse_finish){\n        pJS.tmp.repulse_count++;\n        if(pJS.tmp.repulse_count == pJS.particles.array.length){\n          pJS.tmp.repulse_finish = true;\n        }\n      }\n\n      if(pJS.tmp.repulse_clicking){\n\n        var repulseRadius = Math.pow(pJS.interactivity.modes.repulse.distance/6, 3);\n\n        var dx = pJS.interactivity.mouse.click_pos_x - p.x,\n            dy = pJS.interactivity.mouse.click_pos_y - p.y,\n            d = dx*dx + dy*dy;\n\n        var force = -repulseRadius / d * 1;\n\n        function process(){\n\n          var f = Math.atan2(dy,dx);\n          p.vx = force * Math.cos(f);\n          p.vy = force * Math.sin(f);\n\n          if(pJS.particles.move.out_mode == 'bounce'){\n            var pos = {\n              x: p.x + p.vx,\n              y: p.y + p.vy\n            }\n            if (pos.x + p.radius > pJS.canvas.w) p.vx = -p.vx;\n            else if (pos.x - p.radius < 0) p.vx = -p.vx;\n            if (pos.y + p.radius > pJS.canvas.h) p.vy = -p.vy;\n            else if (pos.y - p.radius < 0) p.vy = -p.vy;\n          }\n\n        }\n\n        // default\n        if(d <= repulseRadius){\n          process();\n        }\n\n        // bang - slow motion mode\n        // if(!pJS.tmp.repulse_finish){\n        //   if(d <= repulseRadius){\n        //     process();\n        //   }\n        // }else{\n        //   process();\n        // }\n        \n\n      }else{\n\n        if(pJS.tmp.repulse_clicking == false){\n\n          p.vx = p.vx_i;\n          p.vy = p.vy_i;\n        \n        }\n\n      }\n\n    }\n\n  }\n\n\n  pJS.fn.modes.grabParticle = function(p){\n\n    if(pJS.interactivity.events.onhover.enable && pJS.interactivity.status == 'mousemove'){\n\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n          dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n          dist_mouse = Math.sqrt(dx_mouse*dx_mouse + dy_mouse*dy_mouse);\n\n      /* draw a line between the cursor and the particle if the distance between them is under the config distance */\n      if(dist_mouse <= pJS.interactivity.modes.grab.distance){\n\n        var opacity_line = pJS.interactivity.modes.grab.line_linked.opacity - (dist_mouse / (1/pJS.interactivity.modes.grab.line_linked.opacity)) / pJS.interactivity.modes.grab.distance;\n\n        if(opacity_line > 0){\n\n          /* style */\n          var color_line = pJS.particles.line_linked.color_rgb_line;\n          pJS.canvas.ctx.strokeStyle = 'rgba('+color_line.r+','+color_line.g+','+color_line.b+','+opacity_line+')';\n          pJS.canvas.ctx.lineWidth = pJS.particles.line_linked.width;\n          //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\n          \n          /* path */\n          pJS.canvas.ctx.beginPath();\n          pJS.canvas.ctx.moveTo(p.x, p.y);\n          pJS.canvas.ctx.lineTo(pJS.interactivity.mouse.pos_x, pJS.interactivity.mouse.pos_y);\n          pJS.canvas.ctx.stroke();\n          pJS.canvas.ctx.closePath();\n\n        }\n\n      }\n\n    }\n\n  };\n\n\n\n  /* ---------- pJS functions - vendors ------------ */\n\n  pJS.fn.vendors.eventsListeners = function(){\n\n    /* events target element */\n    if(pJS.interactivity.detect_on == 'window'){\n      pJS.interactivity.el = window;\n    }else{\n      pJS.interactivity.el = pJS.canvas.el;\n    }\n\n\n    /* detect mouse pos - on hover / click event */\n    if(pJS.interactivity.events.onhover.enable || pJS.interactivity.events.onclick.enable){\n\n      /* el on mousemove */\n      pJS.interactivity.el.addEventListener('mousemove', function(e){\n\n        if(pJS.interactivity.el == window){\n          var pos_x = e.clientX,\n              pos_y = e.clientY;\n        }\n        else{\n          var pos_x = e.offsetX || e.clientX,\n              pos_y = e.offsetY || e.clientY;\n        }\n\n        pJS.interactivity.mouse.pos_x = pos_x;\n        pJS.interactivity.mouse.pos_y = pos_y;\n\n        if(pJS.tmp.retina){\n          pJS.interactivity.mouse.pos_x *= pJS.canvas.pxratio;\n          pJS.interactivity.mouse.pos_y *= pJS.canvas.pxratio;\n        }\n\n        pJS.interactivity.status = 'mousemove';\n\n      });\n\n      /* el on onmouseleave */\n      pJS.interactivity.el.addEventListener('mouseleave', function(e){\n\n        pJS.interactivity.mouse.pos_x = null;\n        pJS.interactivity.mouse.pos_y = null;\n        pJS.interactivity.status = 'mouseleave';\n\n      });\n\n    }\n\n    /* on click event */\n    if(pJS.interactivity.events.onclick.enable){\n\n      pJS.interactivity.el.addEventListener('click', function(){\n\n        pJS.interactivity.mouse.click_pos_x = pJS.interactivity.mouse.pos_x;\n        pJS.interactivity.mouse.click_pos_y = pJS.interactivity.mouse.pos_y;\n        pJS.interactivity.mouse.click_time = new Date().getTime();\n\n        if(pJS.interactivity.events.onclick.enable){\n\n          switch(pJS.interactivity.events.onclick.mode){\n\n            case 'push':\n              if(pJS.particles.move.enable){\n                pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\n              }else{\n                if(pJS.interactivity.modes.push.particles_nb == 1){\n                  pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\n                }\n                else if(pJS.interactivity.modes.push.particles_nb > 1){\n                  pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb);\n                }\n              }\n            break;\n\n            case 'remove':\n              pJS.fn.modes.removeParticles(pJS.interactivity.modes.remove.particles_nb);\n            break;\n\n            case 'bubble':\n              pJS.tmp.bubble_clicking = true;\n            break;\n\n            case 'repulse':\n              pJS.tmp.repulse_clicking = true;\n              pJS.tmp.repulse_count = 0;\n              pJS.tmp.repulse_finish = false;\n              setTimeout(function(){\n                pJS.tmp.repulse_clicking = false;\n              }, pJS.interactivity.modes.repulse.duration*1000)\n            break;\n\n          }\n\n        }\n\n      });\n        \n    }\n\n\n  };\n\n  pJS.fn.vendors.densityAutoParticles = function(){\n\n    if(pJS.particles.number.density.enable){\n\n      /* calc area */\n      var area = pJS.canvas.el.width * pJS.canvas.el.height / 1000;\n      if(pJS.tmp.retina){\n        area = area/(pJS.canvas.pxratio*2);\n      }\n\n      /* calc number of particles based on density area */\n      var nb_particles = area * pJS.particles.number.value / pJS.particles.number.density.value_area;\n\n      /* add or remove X particles */\n      var missing_particles = pJS.particles.array.length - nb_particles;\n      if(missing_particles < 0) pJS.fn.modes.pushParticles(Math.abs(missing_particles));\n      else pJS.fn.modes.removeParticles(missing_particles);\n\n    }\n\n  };\n\n\n  pJS.fn.vendors.checkOverlap = function(p1, position){\n    for(var i = 0; i < pJS.particles.array.length; i++){\n      var p2 = pJS.particles.array[i];\n\n      var dx = p1.x - p2.x,\n          dy = p1.y - p2.y,\n          dist = Math.sqrt(dx*dx + dy*dy);\n\n      if(dist <= p1.radius + p2.radius){\n        p1.x = position ? position.x : Math.random() * pJS.canvas.w;\n        p1.y = position ? position.y : Math.random() * pJS.canvas.h;\n        pJS.fn.vendors.checkOverlap(p1);\n      }\n    }\n  };\n\n\n  pJS.fn.vendors.createSvgImg = function(p){\n\n    /* set color to svg element */\n    var svgXml = pJS.tmp.source_svg,\n        rgbHex = /#([0-9A-F]{3,6})/gi,\n        coloredSvgXml = svgXml.replace(rgbHex, function (m, r, g, b) {\n          if(p.color.rgb){\n            var color_value = 'rgba('+p.color.rgb.r+','+p.color.rgb.g+','+p.color.rgb.b+','+p.opacity+')';\n          }else{\n            var color_value = 'hsla('+p.color.hsl.h+','+p.color.hsl.s+'%,'+p.color.hsl.l+'%,'+p.opacity+')';\n          }\n          return color_value;\n        });\n\n    /* prepare to create img with colored svg */\n    var svg = new Blob([coloredSvgXml], {type: 'image/svg+xml;charset=utf-8'}),\n        DOMURL = window.URL || window.webkitURL || window,\n        url = DOMURL.createObjectURL(svg);\n\n    /* create particle img obj */\n    var img = new Image();\n    img.addEventListener('load', function(){\n      p.img.obj = img;\n      p.img.loaded = true;\n      DOMURL.revokeObjectURL(url);\n      pJS.tmp.count_svg++;\n    });\n    img.src = url;\n\n  };\n\n\n  pJS.fn.vendors.destroypJS = function(){\n    cancelAnimationFrame(pJS.fn.drawAnimFrame);\n    canvas_el.remove();\n    pJSDom = null;\n  };\n\n\n  pJS.fn.vendors.drawShape = function(c, startX, startY, sideLength, sideCountNumerator, sideCountDenominator){\n\n    // By Programming Thomas - https://programmingthomas.wordpress.com/2013/04/03/n-sided-shapes/\n    var sideCount = sideCountNumerator * sideCountDenominator;\n    var decimalSides = sideCountNumerator / sideCountDenominator;\n    var interiorAngleDegrees = (180 * (decimalSides - 2)) / decimalSides;\n    var interiorAngle = Math.PI - Math.PI * interiorAngleDegrees / 180; // convert to radians\n    c.save();\n    c.beginPath();\n    c.translate(startX, startY);\n    c.moveTo(0,0);\n    for (var i = 0; i < sideCount; i++) {\n      c.lineTo(sideLength,0);\n      c.translate(sideLength,0);\n      c.rotate(interiorAngle);\n    }\n    //c.stroke();\n    c.fill();\n    c.restore();\n\n  };\n\n  pJS.fn.vendors.exportImg = function(){\n    window.open(pJS.canvas.el.toDataURL('image/png'), '_blank');\n  };\n\n\n  pJS.fn.vendors.loadImg = function(type){\n\n    pJS.tmp.img_error = undefined;\n\n    if(pJS.particles.shape.image.src != ''){\n\n      if(type == 'svg'){\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', pJS.particles.shape.image.src);\n        xhr.onreadystatechange = function (data) {\n          if(xhr.readyState == 4){\n            if(xhr.status == 200){\n              pJS.tmp.source_svg = data.currentTarget.response;\n              pJS.fn.vendors.checkBeforeDraw();\n            }else{\n              console.log('Error pJS - Image not found');\n              pJS.tmp.img_error = true;\n            }\n          }\n        }\n        xhr.send();\n\n      }else{\n\n        var img = new Image();\n        img.addEventListener('load', function(){\n          pJS.tmp.img_obj = img;\n          pJS.fn.vendors.checkBeforeDraw();\n        });\n        img.src = pJS.particles.shape.image.src;\n\n      }\n\n    }else{\n      console.log('Error pJS - No image.src');\n      pJS.tmp.img_error = true;\n    }\n\n  };\n\n\n  pJS.fn.vendors.draw = function(){\n\n    if(pJS.particles.shape.type == 'image'){\n\n      if(pJS.tmp.img_type == 'svg'){\n\n        if(pJS.tmp.count_svg >= pJS.particles.number.value){\n          pJS.fn.particlesDraw();\n          if(!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\n          else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }else{\n          //console.log('still loading...');\n          if(!pJS.tmp.img_error) pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }\n\n      }else{\n\n        if(pJS.tmp.img_obj != undefined){\n          pJS.fn.particlesDraw();\n          if(!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\n          else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }else{\n          if(!pJS.tmp.img_error) pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }\n\n      }\n\n    }else{\n      pJS.fn.particlesDraw();\n      if(!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\n      else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n    }\n\n  };\n\n\n  pJS.fn.vendors.checkBeforeDraw = function(){\n\n    // if shape is image\n    if(pJS.particles.shape.type == 'image'){\n\n      if(pJS.tmp.img_type == 'svg' && pJS.tmp.source_svg == undefined){\n        pJS.tmp.checkAnimFrame = requestAnimFrame(check);\n      }else{\n        //console.log('images loaded! cancel check');\n        cancelRequestAnimFrame(pJS.tmp.checkAnimFrame);\n        if(!pJS.tmp.img_error){\n          pJS.fn.vendors.init();\n          pJS.fn.vendors.draw();\n        }\n        \n      }\n\n    }else{\n      pJS.fn.vendors.init();\n      pJS.fn.vendors.draw();\n    }\n\n  };\n\n\n  pJS.fn.vendors.init = function(){\n\n    /* init canvas + particles */\n    pJS.fn.retinaInit();\n    pJS.fn.canvasInit();\n    pJS.fn.canvasSize();\n    pJS.fn.canvasPaint();\n    pJS.fn.particlesCreate();\n    pJS.fn.vendors.densityAutoParticles();\n\n    /* particles.line_linked - convert hex colors to rgb */\n    pJS.particles.line_linked.color_rgb_line = hexToRgb(pJS.particles.line_linked.color);\n\n  };\n\n\n  pJS.fn.vendors.start = function(){\n\n    if(isInArray('image', pJS.particles.shape.type)){\n      pJS.tmp.img_type = pJS.particles.shape.image.src.substr(pJS.particles.shape.image.src.length - 3);\n      pJS.fn.vendors.loadImg(pJS.tmp.img_type);\n    }else{\n      pJS.fn.vendors.checkBeforeDraw();\n    }\n\n  };\n\n\n\n\n  /* ---------- pJS - start ------------ */\n\n\n  pJS.fn.vendors.eventsListeners();\n\n  pJS.fn.vendors.start();\n  \n\n\n};\n\n/* ---------- global functions - vendors ------------ */\n\nObject.deepExtend = function(destination, source) {\n  for (var property in source) {\n    if (source[property] && source[property].constructor &&\n     source[property].constructor === Object) {\n      destination[property] = destination[property] || {};\n      arguments.callee(destination[property], source[property]);\n    } else {\n      destination[property] = source[property];\n    }\n  }\n  return destination;\n};\n\nwindow.requestAnimFrame = (function(){\n  return  window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame    ||\n    window.oRequestAnimationFrame      ||\n    window.msRequestAnimationFrame     ||\n    function(callback){\n      window.setTimeout(callback, 1000 / 60);\n    };\n})();\n\nwindow.cancelRequestAnimFrame = ( function() {\n  return window.cancelAnimationFrame         ||\n    window.webkitCancelRequestAnimationFrame ||\n    window.mozCancelRequestAnimationFrame    ||\n    window.oCancelRequestAnimationFrame      ||\n    window.msCancelRequestAnimationFrame     ||\n    clearTimeout\n} )();\n\nfunction hexToRgb(hex){\n  // By Tim Down - http://stackoverflow.com/a/5624139/3493650\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n     return r + r + g + g + b + b;\n  });\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n  } : null;\n};\n\nfunction clamp(number, min, max) {\n  return Math.min(Math.max(number, min), max);\n};\n\nfunction isInArray(value, array) {\n  return array.indexOf(value) > -1;\n}\n\n\n/* ---------- particles.js functions - start ------------ */\n\nwindow.pJSDom = [];\n\nwindow.particlesJS = function(tag_id, params){\n\n  //console.log(params);\n\n  /* no string id? so it's object params, and set the id with default id */\n  if(typeof(tag_id) != 'string'){\n    params = tag_id;\n    tag_id = 'particles-js';\n  }\n\n  /* no id? set the id to default id */\n  if(!tag_id){\n    tag_id = 'particles-js';\n  }\n\n  /* pJS elements */\n  var pJS_tag = document.getElementById(tag_id),\n      pJS_canvas_class = 'particles-js-canvas-el',\n      exist_canvas = pJS_tag.getElementsByClassName(pJS_canvas_class);\n\n  /* remove canvas if exists into the pJS target tag */\n  if(exist_canvas.length){\n    while(exist_canvas.length > 0){\n      pJS_tag.removeChild(exist_canvas[0]);\n    }\n  }\n\n  /* create canvas element */\n  var canvas_el = document.createElement('canvas');\n  canvas_el.className = pJS_canvas_class;\n\n  /* set size canvas */\n  canvas_el.style.width = \"100%\";\n  canvas_el.style.height = \"100%\";\n\n  /* append canvas */\n  var canvas = document.getElementById(tag_id).appendChild(canvas_el);\n\n  /* launch particle.js */\n  if(canvas != null){\n    pJSDom.push(new pJS(tag_id, params));\n  }\n\n};\n\nwindow.particlesJS.load = function(tag_id, path_config_json, callback){\n\n  /* load json config */\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', path_config_json);\n  xhr.onreadystatechange = function (data) {\n    if(xhr.readyState == 4){\n      if(xhr.status == 200){\n        var params = JSON.parse(data.currentTarget.response);\n        window.particlesJS(tag_id, params);\n        if(callback) callback();\n      }else{\n        console.log('Error pJS - XMLHttpRequest status: '+xhr.status);\n        console.log('Error pJS - File config not found');\n      }\n    }\n  };\n  xhr.send();\n\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}